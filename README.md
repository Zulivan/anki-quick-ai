# anki-words-story

Retrieve words studied today in Anki, and send them to ChatGPT to asks it make a story using these words. Print the story and generate the audio files.

One example:

![Example](./asset/example.png)

# Usage

1. The program is connected with Anki through [Anki-Connect](https://github.com/FooSoft/anki-connect). First, install Anki-Connect add-on for your Anki.

2. Install requirements:

    ```
    pip install -r requirements.txt
    ```

3. Edit environment variables in `./src/.env`:

   1. Copy the example file:

        ```
        cp .env_example .env
        ```
    
    2. Input your settings. Delete all empty variables, which will be replaced with default values in the `src/configure.py`.

4. Run the program:

    ```
    python src/gpt.py
    ```

5. The information is generated in the terminal, and the sound generated by [edge-tts](https://github.com/rany2/edge-tts) is automatically played. In addition, two .mp3 files are generated. `output/article.mp3` is the audio file for the original article. `output/translated_article.mp3` is the audio file for the translation.

6. (Advanced) Customize words: specify `query` in `src/.env`. The query grammar is the same as Anki browse, which can be found in the (manual)(https://docs.ankiweb.net/searching.html).

# Acknowledgement

Thanks for the inspiration and code in [yihong0618/duolingo_remember](https://github.com/yihong0618/duolingo_remember) and [yihong0618/shanbay_remember](https://github.com/yihong0618/shanbay_remember).

